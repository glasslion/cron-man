commands:
  prepare_python_env:
    description: Common prepare steps for all jobs
    steps:
    - checkout
    - run:
        command: poetry install
        name: install dependencies
jobs:
  demo_job:
    docker:
    - image: cimg/python:3.10.2
    steps:
    - prepare_python_env
    - run:
        command: poetry run python --version
        name: Run
version: 2.1
workflows:
  demo_cron:
    jobs:
    - demo_job
    triggers:
    - schedule:
        cron: 55 9 * * *
        filters:
          branches:
            only:
            - main
